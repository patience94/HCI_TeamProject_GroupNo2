<!DOCTYPE html>
<html>
<head>
	<title>Neutron - Bitmap Test Page</title>
    
    <style type="text/css" title="currentStyle">
		@import "media/css/demo_page.css";
		@import "media/css/demo_table.css";
		.dataTables_filter {
            display: none; 
        }
	</style>
 	<script type="text/javascript" src="media/js/jquery.js"></script>
    <script type="text/javascript" language="javascript" src="media/js/jquery.dataTables.js"></script> 

    <script type="text/javascript">
	
	    // This is the object Neutron expects to talk to when it needs to send something out,
	    // by calling neutronJavaScriptHandler.handle(cmdID, jsonArgs)
        //
        var assetId;
        window.neutronJavaScriptHandler = {
            // We should not let any exception throw out of this function, otherwise we will
            // get a crash on debug Neutron (with the Qt implementation).
            handle: function (commandId, jsonArgs) {
                try {
                    if (commandId == 'NewDocument') {
                        var jsonObject = JSON.parse(jsonArgs);
                        assetId = jsonObject.AssetID;
  

                        document.getElementById("assetID").innerHTML = assetId;
                      

                      
                    }
                } catch (err) {
                    console.log("Exception occured executing AcIPC: " + commandId + ", args: " + jsonArgs);
                }

                return "processed";
            }
        }



        function sendJavaScriptAPIcommand() {
            if (window.neutronJavaScriptObject) {


                var scale = window.neutronJavaScriptObject.neuUI.getInitialScale("A Portrait", assetId);
                document.getElementById("Scale").innerHTML = scale;
            }
        }
        
	</script>

    <script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.js"></script>
	<script type="text/javascript">
    	    $(document).ready(function () {
	        if (window.neutronJavaScriptObject) {
	            window.neutronJavaScriptObject.executeCommand("PageLoaded", "");
	            eval(window.neutronJavaScriptObject.executeQuery('initializeSDK'));
	        }
	    });
    </script>



</head>
<body id="dt_example">
		<div id="container">
        <img src="media/images/autodesk.png" /> <br /> 

   <div>
        <p></p>
        <button onclick='sendJavaScriptAPIcommand()' title='Click the button to get body count'>Send Message</button>
        
    </div>

     <!-- <img  id='jsImage' alt="Neutron Test Image" src="" height="350" width="350"/> -->
            
    <table >
	
		<tr>
            <td>Scale:</td>
			<td id = 'Scale'></td> 
            </tr>    
    </table>


</body>
</html>